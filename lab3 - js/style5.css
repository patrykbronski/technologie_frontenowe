/* RESET + ZMIENNE */
* {
	box-sizing: border-box;
}

:root {
	--bg: #0f172a;
	--card: rgba(255, 255, 255, 0.06);
	--card2: rgba(255, 255, 255, 0.04);
	--border: rgba(255, 255, 255, 0.14);
	--border2: rgba(255, 255, 255, 0.1);
	--text: #e5e7eb;
	--muted: #9ca3af;

	--accent: #22c55e;
	--accent2: #38bdf8;

	--danger: #fb7185;
	--warning: #fbbf24;

	--shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
	--shadow2: 0 12px 30px rgba(0, 0, 0, 0.28);

	--radius: 16px;
	--radius-sm: 12px;
}

body {
	margin: 0;
	font-family:
		system-ui,
		-apple-system,
		Segoe UI,
		Roboto,
		Arial,
		sans-serif;
	color: var(--text);
	background:
		radial-gradient(900px 500px at 15% 10%, rgba(56, 189, 248, 0.2), transparent 60%),
		radial-gradient(800px 450px at 85% 20%, rgba(34, 197, 94, 0.18), transparent 55%),
		linear-gradient(180deg, var(--bg), #111827);
	min-height: 100vh;
	padding: 40px 0 70px;
}

h1 {
	width: min(920px, 92vw);
	margin: 0 auto 18px;
	padding: 18px 20px;
	border-radius: var(--radius);
	background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
	border: 1px solid var(--border2);
	box-shadow: var(--shadow2);
	font-size: clamp(20px, 3vw, 30px);
}

/* UKŁAD FORMULARZA*/
form {
	width: min(920px, 92vw);
	margin: 0 auto;
	display: grid;
	gap: 14px;
}

fieldset {
	border: 1px solid var(--border2);
	border-radius: var(--radius);
	background: rgba(11, 18, 32, 0.62);
	box-shadow: 0 10px 26px rgba(0, 0, 0, 0.18);
	padding: 16px 16px 10px;
	position: relative;
}

/* (B13) :focus-within - podświetlenie całej grupy pól */
fieldset:focus-within {
	border-color: rgba(56, 189, 248, 0.45);
	box-shadow:
		0 0 0 5px rgba(56, 189, 248, 0.12),
		0 10px 26px rgba(0, 0, 0, 0.18);
}

legend {
	padding: 0 10px;
	font-weight: 750;
	letter-spacing: 0.2px;
	color: rgba(229, 231, 235, 0.95);
}

/* (C14) ::first-letter dla legend */
legend::first-letter {
	color: rgba(56, 189, 248, 0.95);
}

/* Uporządkowanie sekcji (div) w fieldsetach */
fieldset > div {
	padding: 10px 6px;
	border-radius: var(--radius-sm);
	transition: background-color 0.2s ease;
}

/* (B11) :hover dla wszystkich interaktywnych elementów (tu: kontener pola) */
fieldset > div:hover {
	background: rgba(255, 255, 255, 0.03);
}

label {
	display: inline-block;
	font-weight: 650; /* A15 */
	margin-bottom: 6px;
	color: rgba(229, 231, 235, 0.9);
}

/* Jeżeli label jest po <span> lub w układzie mieszanym, zachowaj czytelność */
span {
	font-weight: 650;
	color: rgba(229, 231, 235, 0.9);
}

/* (B17) :required - oznaczenie pól wymaganych (gwiazdka przez ::after)
   Realizujemy to przez label, ale selektorem "label + wymagane pole" */
label:has(+ input:required),
label:has(+ select:required),
label:has(+ textarea:required) {
	position: relative;
	padding-right: 10px;
}

/* (C12) ::before dla gwiazdki przy polach required */
label:has(+ input:required)::after,
label:has(+ select:required)::after,
label:has(+ textarea:required)::after {
	content: ' *';
	color: var(--warning);
	font-weight: 800;
}

/* Fallback gdy :has nie jest wspierane (niektóre starsze przeglądarki):
   jeśli nie działa, nadal masz pseudo-klasy i resztę stylizacji */
@supports not (selector(:has(*))) {
	/* Opcjonalnie: bez gwiazdek w starszych przeglądarkach */
}

/*  POLA TEKSTOWE (A14) + PLACEHOLDER (C) */
input[type='text'],
input[type='email'],
input[type='tel'],
input[type='url'],
input[type='password'],
input[type='date'],
select,
textarea {
	width: 100%;
	padding: 11px 12px; /* A14 */
	border-radius: var(--radius-sm);
	border: 1px solid var(--border);
	background: var(--card2);
	color: var(--text);
	outline: none;
	transition:
		border-color 0.2s ease,
		box-shadow 0.2s ease,
		background-color 0.2s ease;
}

/* (C) stylizacja ::placeholder */
input::placeholder,
textarea::placeholder {
	color: rgba(156, 163, 175, 0.75);
}

/* (B11) :hover dla interaktywnych */
input:hover,
select:hover,
textarea:hover {
	border-color: rgba(255, 255, 255, 0.22);
}

/* (B12) :focus - wyraźne oznaczenie aktywnego pola */
input:focus,
select:focus,
textarea:focus {
	border-color: rgba(56, 189, 248, 0.55);
	box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.14);
	background: rgba(255, 255, 255, 0.05);
}

/* Rama zielona dla valid */
input:required:valid,
select:required:valid,
textarea:required:valid {
	border-color: rgba(34, 197, 94, 0.65);
}

/* Rama czerwona dla invalid (dopiero po interakcji) */
input:required:invalid:not(:placeholder-shown),
textarea:required:invalid:not(:placeholder-shown),
select:required:invalid {
	border-color: rgba(251, 113, 133, 0.7);
}

/* (C13) ::after dla ikony walidacji */
fieldset > div {
	position: relative;
}

/* Ikona ✓ */
fieldset > div:has(> input:required:valid)::after,
fieldset > div:has(> select:required:valid)::after,
fieldset > div:has(> textarea:required:valid)::after {
	content: '✓';
	position: absolute;
	right: 12px;
	top: 50%;
	transform: translateY(-10%);
	color: rgba(34, 197, 94, 0.95);
	font-weight: 900;
	pointer-events: none;
}

/* Ikona ✗ (po interakcji / gdy nie jest puste) */
fieldset > div:has(> input:required:invalid:not(:placeholder-shown))::after,
fieldset > div:has(> textarea:required:invalid:not(:placeholder-shown))::after,
fieldset > div:has(> select:required:invalid)::after {
	content: '✗';
	position: absolute;
	right: 12px;
	top: 50%;
	transform: translateY(-10%);
	color: rgba(251, 113, 133, 0.95);
	font-weight: 900;
	pointer-events: none;
}

/* Żeby ikona nie nachodziła na tekst w polu */
input,
select,
textarea {
	padding-right: 36px;
}

/* DISABLED (B16)*/
input:disabled,
select:disabled,
textarea:disabled,
button:disabled {
	opacity: 0.55;
	cursor: not-allowed;
	filter: grayscale(30%);
}

/* CUSTOM CHECKBOX / RADIO (C15) + :checked (B15)
   - ukrywamy domyślne inputy (opacity:0)
   - tworzymy "kontrolkę" na label::before */

/* Uporządkuj checkboxy i radia wizualnie */
input[type='checkbox'],
input[type='radio'] {
	position: absolute;
	opacity: 0; /* ukrycie domyślnego */
	width: 1px;
	height: 1px;
}

/* Wszystkie labele po checkbox/radio będą klikalne i dostaną miejsce na kontrolkę */
input[type='checkbox'] + label,
input[type='radio'] + label {
	position: relative;
	padding-left: 34px;
	margin: 4px 10px 4px 0;
	cursor: pointer; /* B11 */
	user-select: none;
	display: inline-flex;
	align-items: center;
	min-height: 26px;
}

/* Kontrolka */
input[type='checkbox'] + label::before,
input[type='radio'] + label::before {
	content: '';
	position: absolute;
	left: 0;
	top: 50%;
	transform: translateY(-50%);
	width: 22px;
	height: 22px;
	border-radius: 7px;
	border: 1px solid rgba(255, 255, 255, 0.22);
	background: rgba(255, 255, 255, 0.05);
	box-shadow: 0 8px 18px rgba(0, 0, 0, 0.18);
	transition:
		background-color 0.2s ease,
		border-color 0.2s ease,
		box-shadow 0.2s ease;
}

/* Radio: okrągłe */
input[type='radio'] + label::before {
	border-radius: 999px;
}

/* Hover */
input[type='checkbox'] + label:hover::before,
input[type='radio'] + label:hover::before {
	border-color: rgba(56, 189, 248, 0.45);
	box-shadow:
		0 0 0 4px rgba(56, 189, 248, 0.1),
		0 8px 18px rgba(0, 0, 0, 0.18);
}

/* (B15) :checked - stylizacja wybranych */
input[type='checkbox']:checked + label::before {
	background: rgba(34, 197, 94, 0.22);
	border-color: rgba(34, 197, 94, 0.55);
}

/* Checkmark dla checkboxa */
input[type='checkbox']:checked + label::after {
	content: '✓';
	position: absolute;
	left: 6px;
	top: 50%;
	transform: translateY(-52%);
	font-weight: 900;
	color: rgba(34, 197, 94, 0.95);
}

/* Radio: kropka w środku */
input[type='radio']:checked + label::before {
	border-color: rgba(56, 189, 248, 0.6);
	background: rgba(56, 189, 248, 0.12);
}
input[type='radio']:checked + label::after {
	content: '';
	position: absolute;
	left: 7px;
	top: 50%;
	transform: translateY(-50%);
	width: 10px;
	height: 10px;
	border-radius: 999px;
	background: rgba(56, 189, 248, 0.95);
}

/* Focus dla ukrytych inputów (B12) - przerzucamy focus na label::before */
input[type='checkbox']:focus + label::before,
input[type='radio']:focus + label::before {
	box-shadow:
		0 0 0 5px rgba(56, 189, 248, 0.14),
		0 8px 18px rgba(0, 0, 0, 0.18);
	border-color: rgba(56, 189, 248, 0.55);
}

/* RANGE + FILE (dodatkowo UX)*/
input[type='range'] {
	padding-right: 12px; /* nie potrzebuje miejsca na ikonę */
}

input[type='file'] {
	padding-right: 12px;
	background: rgba(255, 255, 255, 0.03);
}

/*PRZYCISKI (A16) + HOVER (B11) */
button {
	border: 1px solid rgba(255, 255, 255, 0.14);
	background: rgba(34, 197, 94, 0.18); /* A16 */
	color: rgba(255, 255, 255, 0.95);
	padding: 11px 14px; /* A16 */
	border-radius: 14px;
	cursor: pointer; /* A16/B11 */
	font-weight: 750;
	letter-spacing: 0.2px;
	box-shadow: 0 14px 26px rgba(0, 0, 0, 0.22);
	transition:
		transform 0.18s ease,
		background-color 0.2s ease,
		box-shadow 0.2s ease;
}

button[type='reset'] {
	background: rgba(255, 255, 255, 0.06);
}

button:hover {
	transform: translateY(-2px);
	background: rgba(56, 189, 248, 0.18);
	box-shadow: 0 18px 34px rgba(0, 0, 0, 0.3);
}

button:active {
	transform: translateY(0);
}

/* DROBNE POPRAWKI: linki, teksty pomocnicze */
small,
.hint {
	color: var(--muted);
	font-size: 12px;
}

/* Preferencje użytkownika dot. animacji */
@media (prefers-reduced-motion: reduce) {
	* {
		transition: none !important;
	}
}
